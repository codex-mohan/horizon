{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Horizon Configuration",
  "description": "Configuration schema for Horizon AI assistant",
  "type": "object",
  "properties": {
    "workspace": {
      "type": "object",
      "description": "Workspace configuration for shell execution",
      "properties": {
        "defaultPath": {
          "type": ["string", "null"],
          "description": "Default working directory for shell commands. If null, uses WORKSPACE_PATH env or current directory",
          "default": null
        },
        "allowOverride": {
          "type": "boolean",
          "description": "Allow runtime override of workspace path via API",
          "default": true
        },
        "restrictedPaths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Paths that are restricted from access",
          "default": []
        },
        "allowedExtensions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "File extensions allowed for operations (empty = all allowed)",
          "default": []
        }
      },
      "additionalProperties": false
    },
    "agent": {
      "type": "object",
      "description": "Agent behavior configuration",
      "properties": {
        "maxRetries": {
          "type": "integer",
          "minimum": 0,
          "maximum": 10,
          "description": "Maximum retry attempts for failed operations",
          "default": 3
        },
        "timeout": {
          "type": "integer",
          "minimum": 1000,
          "maximum": 300000,
          "description": "Default timeout for operations in milliseconds",
          "default": 30000
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": true
}
