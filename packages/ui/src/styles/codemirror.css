/*
 * CodeMirror Theme Definitions
 * Syntax highlighting colors for each app theme (Horizon, Nebula, Aurora)
 * with light and dark mode variants
 */

/* =============================================================================
   HORIZON THEME - Purple/Blue/Cyan inspired by black holes
   ============================================================================= */

[data-theme="horizon"],
:root {
  /* Light mode syntax colors */
  --cm-background: oklch(0.98 0.01 270);
  --cm-foreground: oklch(0.2 0.02 270);
  --cm-caret: oklch(0.58 0.24 275);
  --cm-selection: oklch(0.58 0.24 275 / 0.35);
  --cm-line-highlight: oklch(0.85 0.03 270);
  --cm-gutter-bg: oklch(0.95 0.01 270);
  --cm-gutter-fg: oklch(0.5 0.02 270);

  /* Syntax tokens */
  --cm-keyword: oklch(0.5 0.26 300);
  --cm-string: oklch(0.45 0.18 160);
  --cm-number: oklch(0.55 0.2 45);
  --cm-comment: oklch(0.55 0.02 270);
  --cm-function: oklch(0.45 0.22 250);
  --cm-variable: oklch(0.35 0.15 270);
  --cm-type: oklch(0.5 0.2 200);
  --cm-operator: oklch(0.45 0.2 330);
  --cm-property: oklch(0.4 0.18 280);
  --cm-punctuation: oklch(0.4 0.05 270);
  --cm-tag: oklch(0.5 0.22 280);
  --cm-attribute: oklch(0.5 0.18 200);
  --cm-constant: oklch(0.5 0.22 30);
  --cm-regexp: oklch(0.55 0.2 350);
}

[data-theme="horizon"].dark,
html:is(.dark)[data-theme="horizon"] {
  /* Dark mode syntax colors */
  --cm-background: oklch(0.06 0.005 270);
  --cm-foreground: oklch(0.92 0.01 270);
  --cm-caret: oklch(0.72 0.24 275);
  --cm-selection: oklch(0.68 0.24 275 / 0.4);
  --cm-line-highlight: oklch(0.2 0.02 270);
  --cm-gutter-bg: oklch(0.08 0.005 270);
  --cm-gutter-fg: oklch(0.55 0.02 270);

  /* Syntax tokens */
  --cm-keyword: oklch(0.75 0.2 300);
  --cm-string: oklch(0.75 0.15 160);
  --cm-number: oklch(0.78 0.18 70);
  --cm-comment: oklch(0.5 0.02 270);
  --cm-function: oklch(0.78 0.2 230);
  --cm-variable: oklch(0.85 0.1 270);
  --cm-type: oklch(0.75 0.18 200);
  --cm-operator: oklch(0.8 0.18 330);
  --cm-property: oklch(0.78 0.15 280);
  --cm-punctuation: oklch(0.7 0.03 270);
  --cm-tag: oklch(0.75 0.2 280);
  --cm-attribute: oklch(0.78 0.15 200);
  --cm-constant: oklch(0.78 0.2 50);
  --cm-regexp: oklch(0.75 0.18 350);
}

/* =============================================================================
   NEBULA THEME - Pink/Purple/Orange inspired by nebulas
   ============================================================================= */

[data-theme="nebula"] {
  /* Light mode syntax colors */
  --cm-background: oklch(0.98 0.01 330);
  --cm-foreground: oklch(0.2 0.02 330);
  --cm-caret: oklch(0.55 0.25 330);
  --cm-selection: oklch(0.55 0.25 330 / 0.35);
  --cm-line-highlight: oklch(0.86 0.03 330);
  --cm-gutter-bg: oklch(0.96 0.01 330);
  --cm-gutter-fg: oklch(0.5 0.02 330);

  /* Syntax tokens */
  --cm-keyword: oklch(0.55 0.25 330);
  --cm-string: oklch(0.5 0.2 50);
  --cm-number: oklch(0.55 0.22 80);
  --cm-comment: oklch(0.55 0.05 330);
  --cm-function: oklch(0.5 0.22 10);
  --cm-variable: oklch(0.35 0.15 330);
  --cm-type: oklch(0.5 0.22 280);
  --cm-operator: oklch(0.5 0.2 350);
  --cm-property: oklch(0.45 0.2 320);
  --cm-punctuation: oklch(0.4 0.05 330);
  --cm-tag: oklch(0.55 0.22 340);
  --cm-attribute: oklch(0.5 0.18 30);
  --cm-constant: oklch(0.55 0.22 60);
  --cm-regexp: oklch(0.55 0.2 300);
}

[data-theme="nebula"].dark,
html:is(.dark)[data-theme="nebula"] {
  /* Dark mode syntax colors */
  --cm-background: oklch(0.12 0.03 330);
  --cm-foreground: oklch(0.92 0.02 330);
  --cm-caret: oklch(0.7 0.25 330);
  --cm-selection: oklch(0.65 0.25 330 / 0.4);
  --cm-line-highlight: oklch(0.24 0.05 330);
  --cm-gutter-bg: oklch(0.14 0.03 330);
  --cm-gutter-fg: oklch(0.55 0.03 330);

  /* Syntax tokens */
  --cm-keyword: oklch(0.78 0.22 330);
  --cm-string: oklch(0.78 0.18 50);
  --cm-number: oklch(0.8 0.2 80);
  --cm-comment: oklch(0.5 0.05 330);
  --cm-function: oklch(0.78 0.2 10);
  --cm-variable: oklch(0.85 0.1 330);
  --cm-type: oklch(0.75 0.2 280);
  --cm-operator: oklch(0.8 0.18 350);
  --cm-property: oklch(0.78 0.18 320);
  --cm-punctuation: oklch(0.7 0.03 330);
  --cm-tag: oklch(0.78 0.2 340);
  --cm-attribute: oklch(0.78 0.16 30);
  --cm-constant: oklch(0.8 0.2 60);
  --cm-regexp: oklch(0.75 0.18 300);
}

/* =============================================================================
   AURORA THEME - Green/Cyan/Blue inspired by aurora borealis
   ============================================================================= */

[data-theme="aurora"] {
  /* Light mode syntax colors */
  --cm-background: oklch(0.98 0.01 180);
  --cm-foreground: oklch(0.2 0.02 180);
  --cm-caret: oklch(0.55 0.2 160);
  --cm-selection: oklch(0.55 0.2 160 / 0.35);
  --cm-line-highlight: oklch(0.86 0.03 180);
  --cm-gutter-bg: oklch(0.96 0.01 180);
  --cm-gutter-fg: oklch(0.5 0.02 180);

  /* Syntax tokens */
  --cm-keyword: oklch(0.5 0.2 160);
  --cm-string: oklch(0.45 0.18 140);
  --cm-number: oklch(0.55 0.18 200);
  --cm-comment: oklch(0.55 0.05 180);
  --cm-function: oklch(0.45 0.2 180);
  --cm-variable: oklch(0.35 0.15 180);
  --cm-type: oklch(0.5 0.18 220);
  --cm-operator: oklch(0.5 0.18 190);
  --cm-property: oklch(0.45 0.18 170);
  --cm-punctuation: oklch(0.4 0.05 180);
  --cm-tag: oklch(0.5 0.2 160);
  --cm-attribute: oklch(0.5 0.16 200);
  --cm-constant: oklch(0.5 0.2 210);
  --cm-regexp: oklch(0.55 0.18 150);
}

[data-theme="aurora"].dark,
html:is(.dark)[data-theme="aurora"] {
  /* Dark mode syntax colors */
  --cm-background: oklch(0.11 0.02 180);
  --cm-foreground: oklch(0.92 0.02 180);
  --cm-caret: oklch(0.7 0.2 160);
  --cm-selection: oklch(0.65 0.2 160 / 0.4);
  --cm-line-highlight: oklch(0.23 0.04 180);
  --cm-gutter-bg: oklch(0.13 0.02 180);
  --cm-gutter-fg: oklch(0.55 0.03 180);

  /* Syntax tokens */
  --cm-keyword: oklch(0.75 0.18 160);
  --cm-string: oklch(0.75 0.16 140);
  --cm-number: oklch(0.78 0.16 200);
  --cm-comment: oklch(0.5 0.05 180);
  --cm-function: oklch(0.78 0.18 180);
  --cm-variable: oklch(0.85 0.1 180);
  --cm-type: oklch(0.75 0.16 220);
  --cm-operator: oklch(0.78 0.16 190);
  --cm-property: oklch(0.78 0.16 170);
  --cm-punctuation: oklch(0.7 0.03 180);
  --cm-tag: oklch(0.75 0.18 160);
  --cm-attribute: oklch(0.78 0.14 200);
  --cm-constant: oklch(0.78 0.18 210);
  --cm-regexp: oklch(0.75 0.16 150);
}

/* =============================================================================
   CODEMIRROR SCROLLBAR STYLING
   Theme-aware scrollbar for CodeMirror editor
   ============================================================================= */

.cm-scroller::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.cm-scroller::-webkit-scrollbar-track {
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--background) 30%, transparent),
    color-mix(in srgb, var(--primary) 10%, transparent)
  );
  border-radius: 4px;
}

.cm-scroller::-webkit-scrollbar-thumb {
  background: linear-gradient(
    to bottom,
    var(--gradient-from),
    var(--gradient-via),
    var(--gradient-to)
  );
  border-radius: 4px;
  border: 1px solid color-mix(in srgb, var(--background) 50%, transparent);
}

.cm-scroller::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--gradient-from) 80%, transparent),
    color-mix(in srgb, var(--gradient-via) 90%, transparent),
    color-mix(in srgb, var(--gradient-to) 80%, transparent)
  );
  filter: brightness(1.2);
}

.cm-scroller::-webkit-scrollbar-corner {
  background: transparent;
}
